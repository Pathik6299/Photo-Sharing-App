{"ast":null,"code":"import axios from 'axios';\nconst instance = axios.create({\n  baseURL: 'http://pathik6299.pythonanywhere.com/'\n});\n\n//Check Token Exist or not\nif (localStorage.hasOwnProperty(\"token\")) {\n  instance.defaults.headers.common['Authorization'] = `Bearer ` + localStorage.getItem('token');\n}\ninstance.interceptors.response.use(function (response) {\n  if (response) {\n    if (response.data && response.data.token) {\n      // append your request headers with an authenticated token\n      response.headers[\"Authorization\"] = `Bearer ${response.data.token}`;\n    }\n  }\n  if (localStorage.hasOwnProperty(\"token\")) {\n    const token = localStorage.getItem(\"token\");\n    // append your request headers with an authenticated token\n    response.headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n  return response;\n}, function (error) {\n  if (typeof error.response != 'undefined' && error.response.status === 401) {\n    localStorage.removeItem('token');\n    localStorage.removeItem('name');\n    window.location.href = \"/login\";\n  }\n  return Promise.reject(error);\n});\nexport default instance;","map":{"version":3,"names":["axios","instance","create","baseURL","localStorage","hasOwnProperty","defaults","headers","common","getItem","interceptors","response","use","data","token","error","status","removeItem","window","location","href","Promise","reject"],"sources":["C:/Users/pathi/ReactPathik/src/services/axiosInstance.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: 'http://pathik6299.pythonanywhere.com/',\r\n});\r\n\r\n//Check Token Exist or not\r\nif (localStorage.hasOwnProperty(\"token\")) {\r\n\tinstance.defaults.headers.common['Authorization'] = `Bearer ` + localStorage.getItem('token');\r\n}\r\n\r\ninstance.interceptors.response.use(function (response) {\r\n\tif(response){\r\n\t\t\r\n\t\tif(response.data && response.data.token){\r\n\t\t\t// append your request headers with an authenticated token\r\n\t\t\tresponse.headers[\"Authorization\"] = `Bearer ${response.data.token}`;\r\n\t\t}\r\n\t}\r\n\tif (localStorage.hasOwnProperty(\"token\")) {\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t// append your request headers with an authenticated token\r\n\t\tresponse.headers[\"Authorization\"] = `Bearer ${token}`;\r\n\t}\r\n    return response;\r\n}, function (error) {\r\n    if (typeof error.response != 'undefined' && error.response.status === 401) {\r\n        localStorage.removeItem('token')\r\n        localStorage.removeItem('name')\r\n        window.location.href = \"/login\";\r\n    }\r\n    return Promise.reject(error);\r\n});\r\n\r\nexport default instance;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC7BC,OAAO,EAAE;AACV,CAAC,CAAC;;AAEF;AACA,IAAIC,YAAY,CAACC,cAAc,CAAC,OAAO,CAAC,EAAE;EACzCJ,QAAQ,CAACK,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAI,SAAQ,GAAGJ,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC;AAC9F;AAEAR,QAAQ,CAACS,YAAY,CAACC,QAAQ,CAACC,GAAG,CAAC,UAAUD,QAAQ,EAAE;EACtD,IAAGA,QAAQ,EAAC;IAEX,IAAGA,QAAQ,CAACE,IAAI,IAAIF,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAC;MACvC;MACAH,QAAQ,CAACJ,OAAO,CAAC,eAAe,CAAC,GAAI,UAASI,QAAQ,CAACE,IAAI,CAACC,KAAM,EAAC;IACpE;EACD;EACA,IAAIV,YAAY,CAACC,cAAc,CAAC,OAAO,CAAC,EAAE;IACzC,MAAMS,KAAK,GAAGV,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC;IAC3C;IACAE,QAAQ,CAACJ,OAAO,CAAC,eAAe,CAAC,GAAI,UAASO,KAAM,EAAC;EACtD;EACG,OAAOH,QAAQ;AACnB,CAAC,EAAE,UAAUI,KAAK,EAAE;EAChB,IAAI,OAAOA,KAAK,CAACJ,QAAQ,IAAI,WAAW,IAAII,KAAK,CAACJ,QAAQ,CAACK,MAAM,KAAK,GAAG,EAAE;IACvEZ,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;IAChCb,YAAY,CAACa,UAAU,CAAC,MAAM,CAAC;IAC/BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;EACnC;EACA,OAAOC,OAAO,CAACC,MAAM,CAACP,KAAK,CAAC;AAChC,CAAC,CAAC;AAEF,eAAed,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}